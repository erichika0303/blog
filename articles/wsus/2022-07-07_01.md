---
title: WSUS の仕組み レポート編
date: 2022-07-07
tags:
  - WSUS
---

# WSUS の仕組み レポート編
みなさま、こんにちは。WSUS サポート チームです。

今回は、WSUSのレポートの仕組みについて、ご紹介していきたいと思います。  
WSUS ではクライアントから状態レポートが報告され、それをもとにクライアントの更新プログラムの適用状況などを把握することができますが、  
その仕組みの理解やレポートが報告されていないときなどのトラブルシューティングの際に、お役立ていただける情報となっていますので是非ご一読ください！

# WSUS の仕組み 

WSUS にクライアントからレポートが送られるときの流れは以下の通りです。
1. クライアントが次の処理を実施（更新プログラムの検出、ダウンロード、インストール）
2. その結果をもとに状態レポートがWSUSへ送信される
3. WSUSが状態レポートを受け取る

解説
1. クライアントが次の処理を実施（更新プログラムの検出、ダウンロード、インストール）
各処理の流れは以下の通りです。

ⅰ. 更新プログラムの検出処理開始  
ⅱ. 更新プログラムの検出処理完了 ＞ 2 を実施  
ⅲ．ダウンロード処理開始  
ⅳ．ダウンロード処理完了 ＞ 2 を実施  
ⅴ．インストール処理開始
ⅵ．インストール処理完了 ＞ 2 を実施  

2. 1.の結果をもとに状態レポートがクライアントからWSUSへ送信  
以下のフォルダにイベントを含むファイルが生成されます。  
作成されたファイルは、IISの ReportingWebService を介してWSUSデータベースへ送信されます。  

%windir%\SoftwareDistribution\EventCache.v2


3. WSUSが状態レポートを受け取る  
送信されたイベントファイルがWSUS データベースへ格納され、状態レポートとしてWSUSで表示されます。  


状態レポートの見方については以下の記事をご参照ください。
[WSUS のレポートに表示される「状態」の項目の説明](https://jpmem.github.io/blog/wsus/2017-09-04_02/)
